[{"id":"出貨單","commandText":"SELECT F001,F002,F003,F004,F005,F006,F007,F008,F009,F010,F011,F012,F013,F014,F015,F016,F017,F018,F019,FlowFlag FROM [出貨單]","keys":"F001","type":"infocommand","selectPaging":true},{"id":"uc出貨單","infocommand":"出貨單","type":"updatecomponent"},{"id":"an出貨單","autoNoID":"an出貨單","updatecomponent":"uc出貨單","field":"F001","startValue":1,"step":1,"getFixed":"_yyMM","numDig":3,"type":"autonumber"},{"id":"出貨單明細","commandText":"SELECT F001,D001,D002,D003,D004,D005,D006 FROM [出貨單明細]","keys":"F001,D001","type":"infocommand","selectPaging":true},{"id":"uc出貨單明細","infocommand":"出貨單明細","type":"updatecomponent"},{"id":"ids出貨單明細","masterCommand":"出貨單","detailCommand":"出貨單明細","masterColumns":"F001","detailColumns":"F001","type":"infodatasource"},{"id":"trs出貨單","type":"infotransaction","updatecomponent":"uc出貨單","transactions":[{"targetTable":"客戶資料表","exceptionMessage":"","whenInsert":true,"whenUpdate":true,"whenDelete":true,"transMode":"exception","keyFields":[{"targetField":"F001","sourceField":"F004"}],"fields":[{"updateMode":"increase","targetField":"F015","sourceField":"F017"},{"updateMode":"replace","targetField":"F008","sourceField":"F009"}]}]},{"id":"trs出貨單明細","type":"infotransaction","updatecomponent":"uc出貨單明細","transactions":[{"targetTable":"產品資料表","exceptionMessage":"庫存量 累減不得小於0","whenInsert":true,"whenUpdate":true,"whenDelete":true,"transMode":"exception","keyFields":[{"targetField":"F001","sourceField":"D001"}],"fields":[{"updateMode":"decreaseNotZero","targetField":"F014","sourceField":"D003"},{"updateMode":"replace","targetField":"F012","sourceField":"D005"},{"updateMode":"replace","targetField":"F013","sourceValue":"parent['F002']"}]},{"targetTable":"庫存進出明細表","exceptionMessage":"","whenInsert":true,"whenUpdate":true,"whenDelete":true,"transMode":"syncAppend","keyFields":[{"targetField":"產品編號","sourceField":"D001"},{"targetField":"單據號碼","sourceField":"F001"}],"fields":[{"updateMode":"replace","targetField":"產品名稱","sourceField":"D002"},{"updateMode":"replaceNegative","targetField":"數量","sourceField":"D003"},{"updateMode":"replace","targetField":"單價","sourceField":"D005"},{"updateMode":"replace","targetField":"日期","sourceValue":"parent['F002']"},{"updateMode":"replace","targetField":"倉庫","sourceValue":"parent['F012']"},{"updateMode":"replace","targetField":"進銷","sourceValue":"constant['出貨']"}]}]},{"id":"ref_客戶資料表","commandText":"SELECT F003,F005,F006,F008,F009,F011,F014,F001 FROM [客戶資料表]","keys":"","type":"infocommand"},{"id":"ref_員工資料表","commandText":"SELECT F001,F003,F006 FROM [員工資料表]","keys":"","type":"infocommand"},{"id":"ref_報價單","commandText":"SELECT F002,F003,F005,F007,F008,F009,F010,F001 FROM [報價單]","keys":"","type":"infocommand"},{"id":"ref_報價單明細","commandText":"SELECT F001,D001,D002,D003,D004,D005,D006 FROM [報價單明細]","keys":"","type":"infocommand"}]